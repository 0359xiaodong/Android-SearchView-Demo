
buildscript {
  repositories { mavenCentral() }
  dependencies { classpath "com.android.tools.build:gradle:1.0.1" }
}

repositories {
  mavenLocal() 
  mavenCentral()
}

apply plugin: 'android'


android {
  compileSdkVersion 21
  buildToolsVersion "21.1.2"

  defaultConfig {
    applicationId 'danbroid.searchview'
    versionCode 1
    versionName '1.0'
    minSdkVersion 8
    targetSdkVersion 21
  }

  lintOptions { abortOnError false }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_7
    targetCompatibility JavaVersion.VERSION_1_7
  }

  sourceSets {
    main {
      manifest.srcFile 'AndroidManifest.xml'
      java.srcDirs = ['src']
      resources.srcDirs = ['src']
      aidl.srcDirs = ['src']
      renderscript.srcDirs = ['src']
      res.srcDirs = ['res']
      assets.srcDirs = ['assets']
    }

    androidTest.setRoot('tests')
  }
}

task run(type: Task, dependsOn: 'installDebug') {
  doLast {
    println "Running application ..."
    "$System.env.ANDROID_SDK/platform-tools/adb shell am start -c android.intent.category.LAUNCHER -n danbroid.searchview/.MainActivity".execute()
  }
}

defaultTasks 'run'

dependencies {  
  compile 'com.android.support:appcompat-v7:21.+'
  compile fileTree(dir: 'libs', include: ['*.jar'])
}


